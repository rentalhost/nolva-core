import{levenshtein as e}from"./LevenshteinService.js";export function removeDiacritics(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}export function slugify(e,i="-"){return removeDiacritics(e.trim().toLowerCase()).replaceAll(/\W+/g,i).replaceAll(/^-+|-+$/g,"")}export function slugifyId(e,i){return`${e}-${slugify(i)}`}export function extractSlugId(e){let[i]=e.split("-"),n=Number(i);return Number.isInteger(n)&&String(n)===i?n:void 0}let i=new Map([["pt",new Map([[1,new Map([["c","k"],["l","u"],["r",""],["h",""],["z","s"],["x","s"],["n","m"],["b","bi"],["w","u"],["y","i"]])],[2,new Map([["ce","se"],["ci","si"],["ss","s"],["xc","s"],["rr","r"],["ch","s"],["qu","k"],["gu","g"],["ei","e"],["lh","l"],["ph","f"],["th","t"],["rh","r"],["by","bi"],["sy","si"],["oo","o"],["mn","min"],["pn","pin"],["ps","pis"],["gn","gin"],["ba","ba"],["be","be"],["bi","bi"],["bo","bo"],["bu","bu"],["la","la"],["le","le"],["li","li"],["lo","lo"],["lu","lu"],["ra","ra"],["re","re"],["ri","ri"],["ro","ro"],["ru","ru"],["ma","ma"],["me","me"],["mi","mi"],["mo","mo"],["mu","mu"],["na","na"],["ne","ne"],["ni","ni"],["no","no"],["nu","nu"]])],[3,new Map([["cao","sao"],["coe","soe"],["bri","br"],["s**",""],["l**","u"],["ti*","te"],["ult","ut"]])]])],["en",new Map([[1,new Map([["c","k"],["q","k"],["z","s"],["y","i"]])],[2,new Map([["ck","k"],["ph","f"],["gh","g"],["kn","n"],["wr","r"],["wh","w"],["sh","s"],["ch","k"],["th","t"],["ou","o"],["ae","e"],["oe","e"]])],[3,new Map([["ght","t"],["gue","g"],["ing","in"],["ied","i"],["ies","i"],["ves","f"],["s**",""],["es*",""],["ed*",""],["ly*",""]])],[4,new Map([["ing*",""]])]])]]);export function normalizeWord(e,n="pt"){let r=`${slugify(e)}**`,t=r.length-2,o="",u=0;e:for(;u<t;){for(let e=4;e>=1;e--){let t=r.substring(u,u+e),l=i.get(n).get(e)?.get(t);if(void 0!==l){o+=l,u+=e;continue e}}o+=r[u],u++}return o}export function similarity(i,n){if(i===n)return 1;if(""===i||""===n)return 0;let r=i.length,t=n.length,o=Math.max(r,t),u=e(i,n);return Math.max(0,Math.min(1,(1-u/o)**(1+3/((r+t)/2))))}